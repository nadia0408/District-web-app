/* ======== GLOBAL & UTILITIES ======== */
:root {
    -webkit-text-size-adjust: 100%;
    tab-size: 4;
    font-feature-settings: normal;
    font-variation-settings: normal;
    -webkit-tap-highlight-color: transparent;

    /* --- Brand Colors --- */
    --color-brand-district-pink: #e13ff3;
    --color-brand-district-purple: #6444e4;
    --color-brand-district-black: #000;
    --color-brand-pure-white: #fff;
    --color-brand-district-yellow: #f2c94c;
    --color-brand-district-blue: #2a96f4;
    
    /* --- Greyscale --- */
    --color-grey-50: #fafafa;
    --color-grey-100: #eaeaea;
    --color-grey-150: #cfcfd3;
    --color-grey-200: #bfbfc4;
    --color-grey-250: #a5a5ac;
    --color-grey-300: #8b8b93;
    --color-grey-400: #77777e;
    --color-grey-500: #545459;
    --color-grey-600: #3b3b3f;
    --color-grey-700: #2c2c2e;
    --color-grey-800: #1e1e20;
    --color-grey-900: #131316;
    --color-black-alpha-8: rgba(0,0,0,.08);
    --color-black-alpha-16: rgba(0,0,0,.16);
    --color-black-alpha-24: rgba(0,0,0,.24);
    --color-black-alpha-64: rgba(0,0,0,.64);
    --color-white-alpha-64: rgba(255,255,255,0.64);
    
    /* --- Functional Colors --- */
    --color-purple-50: #f6f4ff;
    --color-purple-100: #eae5ff;
    --color-purple-200: #bcaefe;
    --color-purple-500: #5631ed;
    --color-purple-600: #401cce;
    --color-purple-700: #371ba7;
    --color-pink-50: #fef5fd;
    --color-pink-500: #f42acc;
    --color-blue-50: #f5faff;
    --color-blue-300: #62b2f8;
    --color-blue-500: #2a96f4;
    --color-yellow-50: #fffef5;
    --color-yellow-500: #d4c22a;
    --color-green-100: #e6ffe9;
    --color-green-400: #45e784;
    --color-green-500: #23e764;
    --color-green-600: #1abc50;
    --color-red-500: #fb4173;

    /* --- Typography --- */
    --font-family-base: BeVietnamPro, sans-serif;
    --font-regular: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;
    --font-size-xs: 10px;
    --font-size-sm: 12px;
    --font-size-base: 14px;
    --font-size-lg: 16px;
    --font-size-xl: 18px;
    --font-size-2xl: 24px;

    /* --- Spacing --- */
    --space-4: 4px;
    --space-8: 8px;
    --space-12: 12px;
    --space-16: 16px;
    --space-20: 20px;
    --space-24: 24px;
    --space-32: 32px;
    --space-40: 40px;

    /* --- Light Theme Variables --- */
    --color-surface-primary: #fff;
    --color-surface-secondary: #fafafa;
    --color-text-primary: #131316;
    --color-text-secondary: #2c2c2e;
    --color-text-quaternary: #545459;
    --color-border-subtle: rgba(0,0,0,.08);
    --color-border-moderate: #ccc;

    --header-height: 70px;
    --footer-height: 150px;
}

body {
    font-family: var(--font-family-base);
    color: var(--color-text-primary);
    background-color: var(--color-surface-primary);
    margin: 0;
    line-height: 1.5;
}

.page-content-wrapper {
    padding-top: var(--header-height);
    min-height: calc(100vh - var(--header-height) - var(--footer-height));
}

/* ======== HEADER & FOOTER (Desktop) ======== */
.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-16) var(--space-24);
    border-bottom: 1px solid var(--color-grey-100);
    background-color: var(--color-surface-primary);
    position: sticky;
    top: 0;
    z-index: 900;
}
.header-left { display: flex; align-items: center; }
.logo img { 
    height: 40px; 
    margin-right: var(--space-20); 
    display: block;
    filter : invert(1);
}
.location { display: flex; align-items: center; margin-right: var(--space-24); border-left: 1px solid var(--color-grey-150); padding-left: var(--space-20); }
.location-icon { width: 20px; height: 20px; margin-right: var(--space-8); color: var(--color-grey-500); }
.location-text { display: flex; flex-direction: column; font-size: 0.9em; }
.location-text .city { font-weight: var(--font-semibold); color: var(--color-text-primary); }
.location-text .state { font-size: 0.85em; color: var(--color-text-quaternary); }
.header-left nav ul { list-style: none; padding: 0; margin: 0; display: flex; }
.header-left nav ul li { margin-right: var(--space-20); }
.header-left nav ul li a { color: var(--color-text-secondary); text-decoration: none; padding: var(--space-8) 0; font-size: var(--font-size-base); font-weight: var(--font-medium); }

.header-right { display: flex; align-items: center; }
.search-bar { display: flex; align-items: center; background-color: var(--color-grey-50); padding: var(--space-8) var(--space-12); border-radius: var(--space-8); margin-right: var(--space-20); }
.search-icon { width: 18px; height: 18px; color: var(--color-grey-400); margin-right: var(--space-8); }
.search-bar input { border: none; background-color: transparent; outline: none; width: 250px; font-size: var(--font-size-sm); }
.profile-icon { width: 40px; height: 40px; background-color: var(--color-grey-800); border-radius: 50%; }

.footer-container { background-color: var(--color-grey-800); color: var(--color-grey-50); padding: var(--space-32) var(--space-20); margin-top: var(--space-40); }

/* ======== GENERIC 2D SCALING CAROUSEL (For Events & Activities) ======== */
.event-carousel-section,
.activity-carousel-section { 
    position: relative; 
    width: 100%; 
    max-width: 1200px; 
    margin: var(--space-20) auto var(--space-40); 
    overflow: hidden; 
}
.carousel-viewport { 
    width: 100%; 
    overflow: visible; 
    padding: var(--space-20) 0; 
}
.carousel-container { 
    display: flex; 
    align-items: center; 
    justify-content: center;
    transition: transform 0.5s ease-in-out; 
    position: relative; 
    min-height: 450px;
}
.carousel-slide { 
    width: 320px;
    aspect-ratio: 3 / 4.2; /* CORRECT FIX: Enforce a consistent portrait aspect ratio */
    flex-shrink: 0;
    margin: 0 var(--space-8); 
    border-radius: var(--space-12); 
    overflow: hidden; 
    position: relative; 
    transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, z-index 0.5s; 
    transform: scale(0.85);
    opacity: 0.7; 
    z-index: 1; 
    box-shadow: 0 4px 15px var(--color-black-alpha-24); 
    background-color: var(--color-grey-100);
}
.carousel-slide.active { 
    transform: scale(1);
    opacity: 1; 
    z-index: 2; 
    box-shadow: 0 8px 25px var(--color-black-alpha-32); 
}
.carousel-slide.prev, .carousel-slide.next { 
    transform: scale(0.85);
    opacity: 0.7; 
    z-index: 1; 
}
.carousel-slide.inactive { 
    transform: scale(0.7); 
    opacity: 0; 
    z-index: 0; 
}
.carousel-slide img { 
    width: 100%; 
    height: 100%;
    display: block; 
    object-fit: cover; /* This will crop all images cleanly to fit the frame */
}
.carousel-caption { 
    position: absolute; 
    bottom: 0; 
    left: 0; 
    right: 0; 
    background: linear-gradient(to top, var(--color-black-alpha-64, rgba(0,0,0,0.64)) 0%, transparent 100%); 
    color: var(--color-brand-pure-white); 
    padding: var(--space-16); 
}
.carousel-control { 
    position: absolute; 
    top: 50%; 
    transform: translateY(-50%); 
    background-color: var(--color-white-alpha-64); 
    color: var(--color-grey-800); 
    border: none; 
    border-radius: 50%; 
    cursor: pointer; 
    z-index: 3; 
    width: 40px; 
    height: 40px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}
.carousel-control.prev { left: var(--space-16); }
.carousel-control.next { right: var(--space-16); }
.carousel-dots { text-align: center; margin-top: var(--space-20); }
.dot { height: var(--space-8); width: var(--space-8); margin: 0 var(--space-4); background-color: var(--color-grey-200); border-radius: 50%; display: inline-block; cursor: pointer; transition: all 0.3s ease; }
.dot.active { background-color: var(--color-brand-district-purple); width: var(--space-20); }

/* ======== PAGE SPECIFIC STYLES (Desktop) ======== */
.page-content-wrapper.events-page { background-color: #fbfaf5; }
.page-content-wrapper.activities-page { background-color: var(--color-pink-50); }
.movies-page { background-color: var(--color-surface-primary); }

.movie-grid-container, .event-grid-container, .activity-grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; }
.movie-card-item, .event-card-item, .activity-card-item { background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); transition: transform 0.2s ease-in-out; cursor: pointer;}
.movie-card-item:hover, .event-card-item:hover, .activity-card-item:hover { transform: translateY(-5px); }

/* ======== ACTIVE NAV LINKS (Desktop) ======== */
.header-left nav ul li.active a { font-weight: var(--font-bold); }
.header-left nav ul li.active a[href="index.html"] { color: var(--color-brand-district-pink); border-bottom: 2px solid var(--color-brand-district-pink); }
.header-left nav ul li.active a[href="dining.html"] { color: var(--color-brand-district-pink); border-bottom: 2px solid var(--color-brand-district-pink); }
.header-left nav ul li.active a[href="events.html"] { color: var(--color-brand-district-yellow); border-bottom: 2px solid var(--color-brand-district-yellow); }
.header-left nav ul li.active a[href="activities.html"] { color: var(--color-pink-500); border-bottom: 2px solid var(--color-pink-500); }
.header-left nav ul li.active a[href="movies.html"] { color: var(--color-blue-500); border-bottom: 2px solid var(--color-blue-500); }


/* #################################################################### */
/* #############   MOBILE RESPONSIVE STYLES (800px & below)  ############# */
/* #################################################################### */

@media (max-width: 800px) {

    /* --- 1. GLOBAL & LAYOUT OVERRIDES --- */
    body {
        background-color: var(--color-grey-900);
        color: var(--color-grey-100);
    }

    .page-content-wrapper {
        padding-top: 115px;
        padding-bottom: var(--space-20);
        background-color: transparent !important;
    }
    
    /* --- 2. MOBILE HEADER & NAVIGATION --- */
    .header-container {
        position: fixed;
        height: auto;
        flex-wrap: wrap;
        padding: var(--space-12) var(--space-16) 0;
        background-color: var(--color-grey-900);
        border-bottom: 1px solid var(--color-grey-700);
    }
    
    .header-left, .header-right {
        display: flex;
        align-items: center;
        margin-right: 0;
    }

    .header-left { order: 1; width: auto; }
    .header-right { order: 2; width: 100%; justify-content: flex-end; } /* Search bar container */
    .logo img { height: 28px; filter: brightness(0) invert(1); margin-right: 0; }
    .location, .profile-icon { display: none; }
    
    .search-bar { 
        width: 100%; 
        margin: var(--space-12) 0;
        background-color: var(--color-grey-800);
    }
    .search-bar input { width: 100%; color: var(--color-brand-pure-white); }
    .search-icon { color: var(--color-grey-400); }

    /* --- SCROLLABLE NAVIGATION MENU --- */
    nav {
        order: 3;
        width: 100%;
        border-top: 1px solid var(--color-grey-700);
    }
    nav ul {
        display: flex;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        padding: 0; margin: 0;
    }
    nav ul::-webkit-scrollbar { display: none; }
    nav ul li { flex-shrink: 0; margin: 0; }
    nav ul li a { display: block; white-space: nowrap; padding: var(--space-12) var(--space-16); color: var(--color-grey-300); border-bottom: 3px solid transparent; }
    nav ul li.active a { color: var(--color-brand-pure-white); font-weight: var(--font-semibold); }
    nav ul li.active a[href="index.html"], nav ul li.active a[href="dining.html"] { border-bottom-color: var(--color-brand-district-pink); }
    nav ul li.active a[href="events.html"] { border-bottom-color: var(--color-brand-district-yellow); }
    nav ul li.active a[href="activities.html"] { border-bottom-color: var(--color-pink-500); }
    nav ul li.active a[href="movies.html"] { border-bottom-color: var(--color-blue-500); }
    .footer-container { display: none; }

    /* --- 4. MOBILE CONTENT & CARD STYLING --- */
    .content-section { padding: var(--space-20) var(--space-16); }
    .content-section > h2 { color: var(--color-brand-pure-white); font-size: var(--font-size-lg); text-align: left; }
    .content-section > h2::after { background-color: var(--color-brand-district-purple); width: 50px; height: 2px; margin-left: 0; display: block; position: static; margin-top: var(--space-8); }
    .horizontal-scroll-container { margin: 0 -16px; padding: var(--space-8) var(--space-16) var(--space-16); scrollbar-width: none; }
    .horizontal-scroll-container::-webkit-scrollbar { display: none; }
    .movie-card-item, .amusement-card-item, .event-card-item, .activity-card-item { background-color: transparent; box-shadow: none; border: none; }
    .movie-grid-container, .activity-grid-container, .event-grid-container { grid-template-columns: repeat(2, 1fr); gap: var(--space-16); }
    .carousel-control { background-color: var(--color-grey-800); color: var(--color-grey-100); }

    /* --- 5. MOBILE MOVIE BOOKING FLOW --- */
    .movie-showtimes-page, .seat-selection-page, .booking-summary-page {
        padding: var(--space-16);
        background-color: transparent;
    }
    .back-button { color: var(--color-grey-100); }
    
    /* Showtimes View */
    .movie-details-header { flex-direction: column; align-items: center; text-align: center; gap: var(--space-16); }
    .details-movie-info h1 { color: var(--color-brand-pure-white); }
    .details-movie-info p { color: var(--color-grey-300); }
    .date-scroller { padding-bottom: var(--space-4); margin-bottom: var(--space-16); }
    .date-item { background-color: var(--color-grey-800); border-color: var(--color-grey-700); color: var(--color-grey-200); }
    .date-item.active { background-color: var(--color-brand-pure-white); color: var(--color-grey-900); border-color: var(--color-brand-pure-white); }
    .date-item.active * { color: var(--color-grey-800); }
    .filters-bar { gap: var(--space-8); flex-wrap: nowrap; overflow-x: auto; scrollbar-width: none; }
    .filters-bar::-webkit-scrollbar { display: none; }
    .filter-btn { background-color: var(--color-grey-800); border-color: var(--color-grey-600); color: var(--color-grey-100); flex-shrink: 0;}
    .availability-legend { color: var(--color-grey-300); justify-content: flex-start; flex-wrap: wrap; }
    .cinema-listing { border-top-color: var(--color-grey-700); }
    .cinema-info h4 { color: var(--color-brand-pure-white); }
    .cinema-meta { color: var(--color-grey-400); }
    .showtime-slot-btn { background-color: transparent; border: 1px solid var(--color-grey-600); color: var(--color-grey-100); }
    .showtime-screen { color: var(--color-grey-400); }

    /* Seat Selection View */
    .seat-selection-header { border-bottom-color: var(--color-grey-700); flex-direction: column; align-items: flex-start; gap: var(--space-8); }
    .seat-selection-header h3, .seat-selection-header p { color: var(--color-grey-100); }
    .ticket-count-selector select { background-color: var(--color-grey-800); color: var(--color-grey-100); border-color: var(--color-grey-600); }
    .seat-category-price, .row-identifier, .screen-indicator-text { color: var(--color-grey-300); }
    .seat-map-area { padding: var(--space-4); }
    .seat-row-layout { gap: var(--space-12); }
    .seat { background-color: var(--color-grey-700); border-color: var(--color-grey-600); color: var(--color-grey-300); width: 28px; height: 28px; }
    .seat.selected { background-color: var(--color-brand-district-purple); border-color: var(--color-brand-district-purple); color: var(--color-brand-pure-white); }
    .seat.booked { background-color: var(--color-grey-500); border-color: var(--color-grey-500); }
    .seat-legend.modern { flex-wrap: wrap; gap: var(--space-12); justify-content: flex-start; }
    .btn-primary-seat { background-color: var(--color-brand-district-purple); }
    .btn-primary-seat:disabled { background-color: var(--color-grey-600); color: var(--color-grey-400); }
}